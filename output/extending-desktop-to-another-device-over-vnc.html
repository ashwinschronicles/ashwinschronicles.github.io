<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="utf-8">
        <meta http-equiv="X-UA-Compatible" content="IE=edge">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="/theme/css/style.min.css?2fcac227">

        <link rel="dns-prefetch" href="//fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com/" crossorigin>

        <meta name="author" content="Ashwin" />

        <meta name="description" content="This post details the procedure to Extending Desktop to another device over VNC or other protocol in Linux
" />
        <meta name="twitter:creator" content="@iamashwin99">
        <meta property="og:type" content="article" />
        <meta name="twitter:card" content="summary">

<meta name="keywords" content="VNC, Nomachine, Extend desktop, Linux, Blog, VNC,Nomachine,Extend desktop,linux" />

<meta property="og:title" content="Extending Desktop to another device over VNC  - in Arch Linux "/>
<meta property="og:url" content="/extending-desktop-to-another-device-over-vnc" />
<meta property="og:description" content="This post details the procedure to Extending Desktop to another device over VNC or other protocol in Linux" />
<meta property="og:site_name" content="Ashwin&#39;s Chronicles" />
<meta property="og:article:author" content="Ashwin" />
<meta property="og:article:published_time" content="2020-02-05T00:00:00+05:30" />
<meta name="twitter:title" content="Extending Desktop to another device over VNC  - in Arch Linux ">
<meta name="twitter:description" content="This post details the procedure to Extending Desktop to another device over VNC or other protocol in Linux">
<meta property="og:image" content="/theme/images/final.png" />
<meta name="twitter:image" content="/theme/images/final.png" >

        <title>Extending Desktop to another device over VNC  - in Arch Linux  · Ashwin&#39;s Chronicles
</title>
        <link rel="shortcut icon" href="/theme/images/favicon.ico" type="image/x-icon" />
        <link rel="icon" href="/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link rel="apple-touch-icon" href="/theme/images/apple-touch-icon.png"  type="image/png" />
        <link rel="apple-touch-icon" sizes="57x57" href="/theme/images/apple-touch-icon-57x57.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="72x72" href="/theme/images/apple-touch-icon-72x72.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="76x76" href="/theme/images/apple-touch-icon-76x76.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="114x114" href="/theme/images/apple-touch-icon-114x114.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="120x120" href="/theme/images/apple-touch-icon-120x120.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="144x144" href="/theme/images/apple-touch-icon-144x144.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="152x152" href="/theme/images/apple-touch-icon-152x152.png" type="image/png" />
        <link rel="apple-touch-icon" sizes="152x152" href="/theme/images/apple-touch-icon-180x180.png" type="image/png" />
        <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="Ashwin&#39;s Chronicles - Full Atom Feed" />



    </head>
    <body>
        <div id="content">
            <div class="navbar navbar-static-top">
                <div class="navbar-inner">
                    <div class="container-fluid">
                        <a class="btn btn-navbar" data-toggle="collapse" data-target=".nav-collapse">
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                            <span class="icon-bar"></span>
                        </a>
                        <a class="brand" href="/"><span class=site-name><span style="color:#329A97;">Ashwin's</span> <span style="color:purple">Chronicles</span> </span></a>
                        <div class="nav-collapse collapse">
                            <ul class="nav pull-right top-menu">
                                <li >
                                    <a href=
                                       "/"
                                    >Home</a>
                                </li>
                                <li ><a href="/AboutMe">About&nbsp;Me</a></li>
                                <li ><a href="/categories">Categories</a></li>
                                <li ><a href="/tags">Tags</a></li>
                                <li ><a href="/archives">Archives</a></li>
                                <li><form class="navbar-search" action="/search" onsubmit="return validateForm(this.elements['q'].value);"> <input type="text" class="search-query" placeholder="Search" name="q" id="tipue_search_input"></form></li>
                            </ul>
                        </div>
                    </div>
                </div>
            </div>
            <div class="container-fluid">
                <div class="row-fluid">
                    <div class="span1"></div>
                    <div class="span10">
<article itemscope>
<div class="row-fluid">
    <header class="page-header span10 offset2">
        <h1>
            <a href="/extending-desktop-to-another-device-over-vnc">
                Extending Desktop to another device over <span class="caps">VNC</span>
                <small class="subtitle">
                    in Arch Linux
                </small>
            </a>
        </h1>
    </header>
</div>

<div class="row-fluid">
        <div class="span8 offset2 article-content">
            
            <hr />
<div class="toc">
<ul></ul>
</div>
<p>If you have an old tablet or old laptop, you might want to put it to good use by using its display as a secondary screen to your primary laptop. If you are using windows on your primary laptop, you have a host of applications that does this for you (like Builtin windows Wireless display, Synergy) but if you are using linux you can follow the following&nbsp;instructions.</p>
<p><strong>Assumptions</strong>
I will list the steps on how to get it done wit the following&nbsp;configuration:</p>
<ul>
<li>The laptop screen is&nbsp;eDP-1</li>
<li>We are using the <span class="caps">VIRTUAL1</span> output for the <span class="caps">VNC</span>&nbsp;server</li>
<li>The resolution of the <span class="caps">VNC</span> monitor will be&nbsp;1920x1080</li>
<li>We are extending the desktop to the right of the laptop&#8217;s&nbsp;screen</li>
</ul>
<p><strong>Step 1:</strong> Generate modeline for the resolution of the vpn screen you are going to use with your <span class="caps">VNC</span> display.
If xrandr already show the desired mode for any of the displays, generating a new one is not needed, we can use the existing one. If this is the case, you can jump directly to step 3.
Any random number can be used for the frequency, as we are not using the mode with any real&nbsp;monitor.</p>
<div class="highlight"><pre><span></span><code>gtf <span class="m">1920</span> <span class="m">1080</span> <span class="m">60</span>
</code></pre></div>

<p>This command generates the following&nbsp;modeline:</p>
<div class="highlight"><pre><span></span><code> <span class="c1"># 1920x1080 @ 60.00 Hz (GTF) hsync: 67.08 kHz; pclk: 172.80 MHz</span>
  Modeline <span class="s2">&quot;1920x1080_60.00&quot;</span>  <span class="m">172</span>.80  <span class="m">1920</span> <span class="m">2040</span> <span class="m">2248</span> <span class="m">2576</span>  <span class="m">1080</span> <span class="m">1081</span> <span class="m">1084</span> <span class="m">1118</span>  -HSync +Vsync
</code></pre></div>

<p><strong>Step 2:</strong> Generate a new mode based on the modeline we got from step&nbsp;1.</p>
<div class="highlight"><pre><span></span><code>xrandr --newmode <span class="s2">&quot;1920x1080_60.00&quot;</span>  <span class="m">172</span>.80  <span class="m">1920</span> <span class="m">2040</span> <span class="m">2248</span> <span class="m">2576</span>  <span class="m">1080</span> <span class="m">1081</span> <span class="m">1084</span> <span class="m">1118</span>  -HSync +Vsync
</code></pre></div>

<p><strong>Step 3:</strong> Add the desired mode to our disconnected&nbsp;output:</p>
<div class="highlight"><pre><span></span><code>xrandr --addmode VIRTUAL1 1920x1080_60.00
</code></pre></div>

<p><strong>Step 4:</strong> Enable the disconnected monitor using the newly added mode and use it to extend the desktop to the right of&nbsp;eDP1:</p>
<div class="highlight"><pre><span></span><code>xrandr --output VIRTUAL1 --mode 1920x1080_60.00 --right-of eDP1
</code></pre></div>

<p>This extends your desktop to the invisible monitor on your left. At this point you can&#8217;t see it&#8217;s picture but you can move your mouse there and drag your windows there. if your hardware dosnet support <span class="caps">VIRTUAL1</span>, you can also use <span class="caps">VGA1</span>  instead of <span class="caps">VIRTUAL1</span></p>
<p><strong>Step 5:</strong> Run xrandr to check if the new setup is&nbsp;listed.</p>
<p><strong>Step 6:</strong> Export the invisible part of your desktop using <span class="caps">VNC</span></p>
<div class="highlight"><pre><span></span><code>x11vnc -clip 1920x1080+1920+0 
</code></pre></div>

<p><strong>Step 7:</strong> <span class="caps">VNC</span> viewer
Some kind of <span class="caps">VNC</span> viewer that supports showing the remote cursor is needed on your secondary laptop /&nbsp;tablet.</p>
<p>Both of them needs to be on the same network and they need to be discover-able. After that you are asked the ip address of the remote computer. If your not happy with the performance of the setup you can use <strong>NoMachine</strong> instead of <span class="caps">VNC</span> viewer, it uses <span class="caps">NX</span> protocoal and seems to be better optimised for low bandwidth and low performance device (the secondary laptop).
This trick works on the more or less recent Intel drivers on an Optimus/Bumblebee system. It would be fun to know if this trick is also repeatable using other&nbsp;drivers. </p>
<p>Once this is setup the parameters can be set in as a bash&nbsp;script</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
<span class="c1">#contents of virtual_display_to_right.sh</span>
xrandr --newmode <span class="s2">&quot;1920x1080_60.00&quot;</span>  <span class="m">172</span>.80  <span class="m">1920</span> <span class="m">2040</span> <span class="m">2248</span> <span class="m">2576</span>  <span class="m">1080</span> <span class="m">1081</span> <span class="m">1084</span> <span class="m">1118</span>  -HSync +Vsync
xrandr --addmode VIRTUAL1 1920x1080_60.00
xrandr --output VIRTUAL1 --mode 1920x1080_60.00 --right-of eDP1
xrandr
x11vnc -clip 1920x1080+1920+0 
</code></pre></div>


             


<div class="applause_button">
    <applause-button url=/extending-desktop-to-another-device-over-vnc> </applause-button>
</div>

 
                <p id="post-share-links">
    Like this post? Share on:
      <a href="https://twitter.com/intent/tweet?text=Extending%20Desktop%20to%20another%20device%20over%20VNC%20in%20Arch%20Linux&url=/extending-desktop-to-another-device-over-vnc&via=iamashwin99&hashtags=vnc,nomachine,extend-desktop,linux" target="_blank" rel="nofollow noopener noreferrer" title="Share on Twitter">Twitter</a>
 ❄       <a href="https://www.facebook.com/sharer/sharer.php?u=/extending-desktop-to-another-device-over-vnc" target="_blank" rel="nofollow noopener noreferrer" title="Share on Facebook">Facebook</a>
 ❄       <a href="https://www.reddit.com/submit?url=/extending-desktop-to-another-device-over-vnc&title=Extending%20Desktop%20to%20another%20device%20over%20VNC%20in%20Arch%20Linux" target="_blank" rel="nofollow noopener noreferrer" title="Share on Reddit">Reddit</a>
 ❄       <a href="https://www.linkedin.com/shareArticle?mini=true&url=/extending-desktop-to-another-device-over-vnc&title=Extending%20Desktop%20to%20another%20device%20over%20VNC%20in%20Arch%20Linux&summary=This%20post%20details%20the%20procedure%20to%20Extending%20Desktop%20to%20another%20device%20over%20VNC%20or%20other%20protocol%20in%C2%A0Linux&source=/extending-desktop-to-another-device-over-vnc" target="_blank" rel="nofollow noopener noreferrer" title="Share on LinkedIn">LinkedIn</a>
 ❄       <a href="mailto:?subject=Extending%20Desktop%20to%20another%20device%20over%20VNC%20in%20Arch%20Linux&amp;body=/extending-desktop-to-another-device-over-vnc" target="_blank" rel="nofollow noopener noreferrer" title="Share via Email">Email</a>

            
            







            <hr/>
            <aside>
            <nav>
            <ul class="articles-timeline">
                <li class="previous-article">« <a href="/Cryostat-probe-design" title="Previous: Cryostat probe design and optimisation for transport measurement. - An overview of my internship">Cryostat probe design and optimisation for transport measurement. <small class="subtitle">An overview of my internship</small></a></li>
                <li class="next-article"><a href="/BMS_for_an_EV_intro" title="Next: Battery Management System for an xEV - Part 1 - Basic BMS requiremnets">Battery Management System for an xEV - Part 1 <small class="subtitle">Basic BMS requiremnets</small></a> »</li>
            </ul>
            </nav>
            </aside>
        </div>
        <section id="article-sidebar" class="span2">
            <h4>Published</h4>
            <time itemprop="dateCreated" datetime="2020-02-05T00:00:00+05:30">Feb 05, 2020</time>
            <h4>Category</h4>
            <a class="category-link" href="/categories#blog-ref">Blog</a>
            <h4>Tags</h4>
            <ul class="list-of-tags tags-in-article">
                <li><a href="/tags#extend-desktop-ref">Extend desktop
                    <span class="superscript">1</span>
</a></li>
                <li><a href="/tags#linux-ref">Linux
                    <span class="superscript">1</span>
</a></li>
                <li><a href="/tags#nomachine-ref">Nomachine
                    <span class="superscript">1</span>
</a></li>
                <li><a href="/tags#vnc-ref">VNC
                    <span class="superscript">1</span>
</a></li>
            </ul>
<h4>Stay in Touch</h4>
<div id="sidebar-social-link">
    <a href="mailto:ashwinkumar.k.rao@gmail.com" title="My Email Address" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="Mail" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#328cff"/><path d="m250 186c-46 0-69 35-69 74 0 44 29 72 68 72 43 0 73-32 73-75 0-44-34-71-72-71zm-1-37c30 0 57 13 77 33 0-22 35-22 35 1v150c-1 10 10 16 16 9 25-25 54-128-14-187-64-56-149-47-195-15-48 33-79 107-49 175 33 76 126 99 182 76 28-12 41 26 12 39-45 19-168 17-225-82-38-68-36-185 67-248 78-46 182-33 244 32 66 69 62 197-2 246-28 23-71 1-71-32v-11c-20 20-47 32-77 32-57 0-108-51-108-108 0-58 51-110 108-110" fill="#fff"/></svg>
    </a>
    <a href="/feeds/all.atom.xml" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="RSS" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#f80"/><circle cx="145" cy="367" r="35" fill="#fff"/><path fill="none" stroke="#fff" stroke-width="60" d="M109 241c89 0 162 73 162 162M109 127c152 0 276 124 276 276"/></svg>
    </a>
    <a href="https://www.facebook.com/iamashwin99" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="Facebook" role="img" viewBox="0 0 512 512"><rect width="512" height="512" rx="15%" fill="#1877f2"/><path d="M355.6 330l11.4-74h-71v-48c0-20.2 9.9-40 41.7-40H370v-63s-29.3-5-57.3-5c-58.5 0-96.7 35.4-96.7 99.6V256h-65v74h65v182h80V330h59.6z" fill="#fff"/></svg>
    </a>
    <a href="https://www.linkedin.com/in/ashwin-k-4854b8121/" title="" target="_blank" rel="nofollow noopener noreferrer">
        <svg xmlns="http://www.w3.org/2000/svg" aria-label="LinkedIn" role="img" viewBox="0 0 512 512" fill="#fff"><rect width="512" height="512" rx="15%" fill="#0077b5"/><circle cx="142" cy="138" r="37"/><path stroke="#fff" stroke-width="66" d="M244 194v198M142 194v198"/><path d="M276 282c0-20 13-40 36-40 24 0 33 18 33 45v105h66V279c0-61-32-89-76-89-34 0-51 19-59 32"/></svg>
    </a>
</div>
            





            



<div id="mc-embed-signup">
<!-- BEGIN FreeLists WEB FORM -->
<form action="https://www.freelists.org/list/ashwinschronicles@freelists.org" target="_blank">
<h4>Get New Release Alert</h4>
  <input type="submit" value="Notify me" class="button">
</form>
<!-- END FreeLists WEB FORM -->
</div>



        </section>
</div>
</article>
<!-- Root element of PhotoSwipe. Must have class pswp. -->
<div class="pswp" tabindex="-1" role="dialog" aria-hidden="true">

    <!-- Background of PhotoSwipe.
         It's a separate element as animating opacity is faster than rgba(). -->
    <div class="pswp__bg"></div>

    <!-- Slides wrapper with overflow:hidden. -->
    <div class="pswp__scroll-wrap">

        <!-- Container that holds slides.
            PhotoSwipe keeps only 3 of them in the DOM to save memory.
            Don't modify these 3 pswp__item elements, data is added later on. -->
        <div class="pswp__container">
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
            <div class="pswp__item"></div>
        </div>

        <!-- Default (PhotoSwipeUI_Default) interface on top of sliding area. Can be changed. -->
        <div class="pswp__ui pswp__ui--hidden">

            <div class="pswp__top-bar">

                <!--  Controls are self-explanatory. Order can be changed. -->

                <div class="pswp__counter"></div>

                <button class="pswp__button pswp__button--close" title="Close (Esc)"></button>

                <button class="pswp__button pswp__button--share" title="Share"></button>

                <button class="pswp__button pswp__button--fs" title="Toggle fullscreen"></button>

                <button class="pswp__button pswp__button--zoom" title="Zoom in/out"></button>

                <!-- Preloader demo https://codepen.io/dimsemenov/pen/yyBWoR -->
                <!-- element will get class pswp__preloader--active when preloader is running -->
                <div class="pswp__preloader">
                    <div class="pswp__preloader__icn">
                      <div class="pswp__preloader__cut">
                        <div class="pswp__preloader__donut"></div>
                      </div>
                    </div>
                </div>
            </div>

            <div class="pswp__share-modal pswp__share-modal--hidden pswp__single-tap">
                <div class="pswp__share-tooltip"></div>
            </div>

            <button class="pswp__button pswp__button--arrow--left" title="Previous (arrow left)">
            </button>

            <button class="pswp__button pswp__button--arrow--right" title="Next (arrow right)">
            </button>

            <div class="pswp__caption">
                <div class="pswp__caption__center"></div>
            </div>

        </div>

    </div>

</div>                    </div>
                    <div class="span1"></div>
                </div>
            </div>
        </div>
<footer>
    <div>
        All articles written by me in this website are licensed under <a rel="license" 
    href="http://creativecommons.org/licenses/by/4.0/">
    Creative Commons Attribution 4.0 International License</a>.
    </div>




    <div id="fpowered">
        Powered by: <a href="http://getpelican.com/" title="Pelican Home Page" target="_blank" rel="nofollow noopener noreferrer">Pelican</a>
        Theme: <a href="https://elegant.oncrashreboot.com/" title="Theme Elegant Home Page" target="_blank" rel="nofollow noopener noreferrer">Elegant</a>
    </div>
</footer>            <script src="//code.jquery.com/jquery.min.js"></script>
        <script src="//netdna.bootstrapcdn.com/twitter-bootstrap/2.3.2/js/bootstrap.min.js"></script>
        <script src="/theme/js/elegant.prod.9e9d5ce754.js"></script>
        <script>
            function validateForm(query)
            {
                return (query.length > 0);
            }
        </script>

    <script>
    (function () {
        if (window.location.hash.match(/^#comment-\d+$/)) {
            $('#comment_thread').collapse('show');
        }
    })();
    window.onhashchange=function(){
        if (window.location.hash.match(/^#comment-\d+$/))
            window.location.reload(true);
    }
    $('#comment_thread').on('shown', function () {
        var link = document.getElementById('comment-accordion-toggle');
        var old_innerHTML = link.innerHTML;
        $(link).fadeOut(200, function() {
            $(this).text('Click here to hide comments').fadeIn(200);
        });
        $('#comment_thread').on('hidden', function () {
            $(link).fadeOut(200, function() {
                $(this).text(old_innerHTML).fadeIn(200);
            });
        })
    })
</script>

    </body>
    <!-- Theme: Elegant built for Pelican
        License : MIT -->
</html>